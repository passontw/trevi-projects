syntax = "proto3";

package dealer;

import "internal/lottery_service/proto/dealer/ball.proto";
import "internal/lottery_service/proto/dealer/game.proto";
import "internal/lottery_service/proto/dealer/events.proto";

option go_package = "g38_lottery_service/internal/lottery_service/proto/generated/dealer";

// 經銷商服務定義
service DealerService {
  // 開始新一輪遊戲
  rpc StartNewRound(StartNewRoundRequest) returns (StartNewRoundResponse) {}

  // 抽取一般球
  rpc DrawBall(DrawBallRequest) returns (DrawBallResponse) {}

  // 抽取額外球
  rpc DrawExtraBall(DrawExtraBallRequest) returns (DrawExtraBallResponse) {}

  // 抽取頭獎球
  rpc DrawJackpotBall(DrawJackpotBallRequest) returns (DrawJackpotBallResponse) {}

  // 抽取幸運球
  rpc DrawLuckyBall(DrawLuckyBallRequest) returns (DrawLuckyBallResponse) {}

  // 取消遊戲
  rpc CancelGame(CancelGameRequest) returns (GameData) {}

  
  // 獲取遊戲狀態
  rpc GetGameStatus(GetGameStatusRequest) returns (GetGameStatusResponse) {}
  
  // 開始 JP 回合
  rpc StartJackpotRound(StartJackpotRoundRequest) returns (StartJackpotRoundResponse) {}
  
  // 訂閱遊戲事件流
  rpc SubscribeGameEvents(SubscribeGameEventsRequest) returns (stream GameEvent) {}
} 